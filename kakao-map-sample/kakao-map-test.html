<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>ì¹´ì¹´ì˜¤ë§µ í…ŒìŠ¤íŠ¸ - ë²„íŠ¼ + í˜„ì¬ ìœ„ì¹˜</title>

<!-- ì§€ë„ SDK ë¡œë“œ -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=86794be0dfabc2fea6c6d4a059019d0a&autoload=false"></script>

<style>
  #map {
      width: 100%;
      height: 600px;
  }

  /* ì˜¤ë¥¸ìª½ ìƒë‹¨ ë²„íŠ¼ ë¬¶ìŒ */
  .map-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 999;
  }

  .control-btn {
      padding: 8px 12px;
      background: white;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      cursor: pointer;
      font-size: 14px;
      user-select: none;
      text-align: center;
  }

  .control-btn:hover {
      background: #f2f2f2;
  }
</style>
</head>
<body>

<div id="map"></div>

<!-- ì§€ë„ UI ë²„íŠ¼ -->
<div class="map-controls">
    <div class="control-btn" id="loginBtn">ë¡œê·¸ì¸</div>
    <div class="control-btn" id="locateBtn">í˜„ì¬ ìœ„ì¹˜</div>
    <div class="control-btn" id="zoomInBtn">í™•ëŒ€</div>
    <div class="control-btn" id="zoomOutBtn">ì¶•ì†Œ</div>
    <div class="control-btn" id="rotateBtn">ë°©ìœ„ íšŒì „</div>
</div>

<script>
kakao.maps.load(function () {

    // ì§€ë„ ì´ˆê¸° ìœ„ì¹˜
    let center = new kakao.maps.LatLng(37.5665, 126.9780);

    let map = new kakao.maps.Map(document.getElementById('map'), {
        center: center,
        level: 3
    });

    // í˜„ì¬ ìœ„ì¹˜ ë§ˆì»¤
    let currentMarker = null;

    // ğŸ“ í˜„ì¬ ìœ„ì¹˜ í‘œì‹œ í•¨ìˆ˜
    function displayCurrentLocation() {
        if (!navigator.geolocation) {
            alert("GPSë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.");
            return;
        }

        navigator.geolocation.getCurrentPosition(function(pos) {
            let lat = pos.coords.latitude;
            let lng = pos.coords.longitude;

            let loc = new kakao.maps.LatLng(lat, lng);

            // ë§ˆì»¤ê°€ ì´ë¯¸ ìˆìœ¼ë©´ ìœ„ì¹˜ë§Œ ì—…ë°ì´íŠ¸
            if (currentMarker) {
                currentMarker.setPosition(loc);
            } else {
                currentMarker = new kakao.maps.Marker({
                    position: loc,
                    map: map
                });
            }

            map.panTo(loc);  // ìœ„ì¹˜ë¡œ ì§€ë„ ì´ë™
        }, function() {
            alert("í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        });
    }

    // ğŸ”˜ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
    document.getElementById("locateBtn").onclick = function() {
        displayCurrentLocation();
    };

    document.getElementById("zoomInBtn").onclick = function() {
        map.setLevel(map.getLevel() - 1);
    };

    document.getElementById("zoomOutBtn").onclick = function() {
        map.setLevel(map.getLevel() + 1);
    };

    let rotation = 0;
    document.getElementById("rotateBtn").onclick = function() {
        rotation = (rotation + 45) % 360;
        map.setHeading(rotation); // ì§€ë„ íšŒì „
    };

    document.getElementById("loginBtn").onclick = function() {
        alert("ë¡œê·¸ì¸ ê¸°ëŠ¥ì€ ì„œë²„ ì—°ë™ í›„ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    };

});
</script>
</body>
</html>
